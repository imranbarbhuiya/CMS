'use client';

import { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';
import { ArrowDownWideNarrow, Search } from 'lucide-react';
import { useState, useRef } from 'react';

import { TicketList } from '@/app/dashboard/tickets/ticket-list';
import { Button } from '@/components/ui/button';
import { Input } from '@/components/ui/input';
import { useToken } from '@/hooks/use-token';
import { Api } from '@/lib/fetch';

import type { Ticket } from '@/app/dashboard/tickets/ticket-list';
import type { components } from '@/openapi/api';

type UpdateTicketDto = components['schemas']['UpdateTicketDto'];

interface TicketResponse {
	data: Ticket[];
	total: number;
}

export default function TicketPage() {
	const { data: token } = useToken();
	const [currentPage, setCurrentPage] = useState(1);
	const searchInputRef = useRef<HTMLInputElement>(null);
	const [searchTerm, setSearchTerm] = useState('');

	const { data, isLoading } = useQuery({
		queryKey: ['/tickets', currentPage, searchTerm],
		queryFn: async () => {
			const { data, error } = await Api.GET('/tickets/my', {
				params: {
					header: {
						Authorization: `Bearer ${token}`,
					},
				},
			});

			if (error) throw new Error(error.message ?? 'An error occurred');

			return data;
		},
		enabled: Boolean(token),
	});

	const queryClient = useQueryClient();

	const { mutate: updateStatus } = useMutation({
		mutationFn: async ({ status, ticketId }: { status: NonNullable<UpdateTicketDto['status']>; ticketId: string }) => {
			const { data, error } = await Api.PATCH('/tickets/{id}', {
				params: {
					header: {
						Authorization: `Bearer ${token}`,
					},
					path: { id: ticketId },
				},
				body: { status },
			});

			if (error) throw new Error(error.message ?? 'An error occurred');

			return data;
		},
		onMutate: async ({ ticketId, status }) => {
			await queryClient.cancelQueries({ queryKey: ['/tickets'] });

			const previousTickets = queryClient.getQueryData<TicketResponse>(['/tickets']);

			queryClient.setQueryData<TicketResponse>(['/tickets'], (old) => {
				if (!old) return old;
				return {
					...old,
					data: old.data.map((ticket) => (ticket.id === ticketId ? { ...ticket, status } : ticket)),
				};
			});

			return { previousTickets };
		},
		onError: (_, __, context) =>
			context?.previousTickets && queryClient.setQueryData<TicketResponse>(['/tickets'], context.previousTickets),
		onSuccess: async () => {
			await queryClient.invalidateQueries({ queryKey: ['/tickets'] });
		},
	});

	const tickets = data?.data ?? [];

	const handleSearch = () => {
		setSearchTerm(searchInputRef.current?.value ?? '');
		setCurrentPage(1);
	};

	return (
		<div className="space-y-4 p-3 md:p-8">
			<div className="flex items-center justify-start">
				<h1 className="text-3xl font-semibold leading-9 tracking-[-0.75px] text-primary">Tickets</h1>
			</div>
			{isLoading ? (
				<div className="flex items-center justify-center pt-20">
					<div className="size-8 animate-spin rounded-full border-b-2 border-gray-900"></div>
				</div>
			) : tickets.length ? (
				<>
					<div className="flex items-center justify-between">
						<div className="flex items-center gap-2">
							<Input
								className="max-w-sm"
								onKeyDown={(ev) => {
									if (ev.key === 'Enter') handleSearch();
								}}
								placeholder="Search ticket using name, id..."
								ref={searchInputRef}
							/>
							<Button
								className="text-sm font-medium leading-6 text-primary"
								onClick={handleSearch}
								size="sm"
								variant="secondary"
							>
								<Search className="size-4" />
								Search
							</Button>
						</div>
						<Button className="gap-2" variant="outline">
							Sort-By
							<ArrowDownWideNarrow className="size-4" />
						</Button>
					</div>
					<TicketList onStatusChangeAction={updateStatus} tickets={tickets} />
				</>
			) : (
				<div className="flex flex-col items-center justify-center gap-1.5 pt-20 text-[#2563EB] [&:is(.rose_*)]:text-[#E11D48]">
					<svg fill="none" height="440" viewBox="0 0 600 440" width="600" xmlns="http://www.w3.org/2000/svg">
						<g clipPath="url(#clip0_4763_41238)">
							<path
								d="M165.72 358.356C162.48 387.006 153.36 425.363 149.16 439.687H191.64L217.8 436.609C217.8 436.609 223.8 380.731 227.64 368.419C231.48 356.107 228.48 239.26 228.6 238.195C228.72 237.129 164.64 265.66 158.28 293.008C155.88 303.544 166.92 348.649 165.72 358.356Z"
								fill="white"
							/>
							<path
								d="M149.28 440.514C149.04 440.514 148.8 440.396 148.56 440.159C148.44 439.922 148.32 439.686 148.44 439.449C152.64 425.124 161.76 386.649 165 358.236C165.48 354.093 163.56 342.728 161.52 330.771C158.88 315.025 156.12 298.807 157.56 292.769C163.68 266.487 224.64 237.246 228.72 237.246H228.84C229.32 237.364 229.56 237.72 229.56 238.193C229.56 238.43 229.56 241.626 229.68 246.007C230.16 273.709 231.84 358.118 228.6 368.654C224.88 380.729 218.88 436.134 218.76 436.726C218.76 437.081 218.4 437.436 218.04 437.436L192 440.514H149.28ZM150.36 438.857H191.76L217.08 435.779C217.8 429.149 223.32 379.664 226.92 368.062C229.08 361.196 229.44 320.116 228 245.888C227.88 242.1 227.88 240.087 227.88 239.022C220.2 241.863 165.12 267.671 159.24 293.006C157.92 298.807 160.68 315.617 163.2 330.416C165.24 342.491 167.16 353.974 166.68 358.355C163.44 386.175 154.68 423.704 150.36 438.857Z"
								fill="black"
							/>
							<path
								d="M148.078 396.831L151.918 372.088L228.958 385.347L225.838 412.221L148.078 396.831Z"
								fill="white"
							/>
							<path
								d="M225.838 413.049H225.718L147.958 397.659C147.478 397.541 147.238 397.186 147.238 396.712L151.078 371.851C151.078 371.614 151.198 371.378 151.438 371.259C151.678 371.141 151.798 371.022 152.038 371.141L229.078 384.518C229.558 384.637 229.798 384.992 229.798 385.466L226.678 412.339C226.678 412.576 226.558 412.813 226.318 412.931C226.198 413.049 226.078 413.049 225.838 413.049ZM149.038 396.239L225.118 411.274L227.998 386.057L152.638 372.917L149.038 396.239Z"
								fill="black"
							/>
							<path d="M230.881 439.686L232.561 401.566L144.601 384.637L132.961 439.686H230.881Z" fill="black" />
							<path
								d="M230.88 440.515H132.84C132.36 440.515 132 440.16 132 439.686V439.568L143.76 384.519C143.88 384.045 144.24 383.808 144.72 383.927L232.8 400.737C233.16 400.856 233.52 401.211 233.52 401.566L231.84 439.568C231.84 440.16 231.48 440.515 230.88 440.515C231 440.515 231 440.515 230.88 440.515ZM133.92 438.858H230.04L231.6 402.276L145.2 385.584L133.92 438.858Z"
								fill="black"
							/>
							<path
								d="M218.401 393.871C220.389 393.871 222.001 392.281 222.001 390.319C222.001 388.358 220.389 386.768 218.401 386.768C216.413 386.768 214.801 388.358 214.801 390.319C214.801 392.281 216.413 393.871 218.401 393.871Z"
								fill="black"
							/>
							<path
								d="M365.337 23.6801L138.625 104.568L247.511 401.596L474.223 320.708L365.337 23.6801Z"
								fill="white"
							/>
							<path
								d="M248.4 401.801C248.04 401.801 247.68 401.565 247.68 401.209L138 104.298C137.88 103.825 138.12 103.351 138.48 103.233L365.16 21.9019C365.64 21.7835 366.12 22.0203 366.24 22.3754L475.92 319.287C476.04 319.523 476.04 319.76 475.92 319.879C475.8 320.115 475.68 320.234 475.44 320.352L248.76 401.801C248.64 401.801 248.52 401.801 248.4 401.801ZM139.92 104.535L249 399.907L474 319.05L364.92 23.6777L139.92 104.535Z"
								fill="black"
							/>
							<path d="M358.62 21.3764L131.988 102.805L241.588 399.691L468.22 318.263L358.62 21.3764Z" fill="white" />
							<path
								d="M241.676 400.618C241.316 400.618 240.956 400.382 240.836 400.027L131.156 103.115C131.036 102.642 131.276 102.168 131.636 102.05L358.196 20.6005C358.436 20.4821 358.676 20.4821 358.796 20.6005C359.036 20.7189 359.156 20.8373 359.276 21.0741L468.956 317.985C469.076 318.222 469.076 318.459 468.956 318.577C468.836 318.814 468.716 318.932 468.476 319.051L241.796 400.5L241.676 400.618ZM133.076 103.352L242.156 398.724L467.156 317.867L358.076 22.3763L133.076 103.352Z"
								fill="black"
							/>
							<path d="M351.391 17.0746L124.68 97.9629L233.566 394.991L460.278 314.103L351.391 17.0746Z" fill="white" />
							<path
								d="M234.598 395.29C234.238 395.29 233.878 395.054 233.758 394.698L124.078 97.7872C123.958 97.3136 124.198 96.8401 124.558 96.7217L351.238 15.2724C351.478 15.154 351.718 15.154 351.838 15.2724C352.078 15.3908 352.198 15.5092 352.318 15.7459L461.998 312.776C462.118 313.249 461.878 313.723 461.518 313.841L234.838 395.29C234.718 395.29 234.718 395.29 234.598 395.29ZM125.998 98.024L235.078 393.396L460.078 312.539L351.118 17.1666L125.998 98.024Z"
								fill="black"
							/>
							<path
								d="M257.277 91.986C256.917 91.986 256.557 91.7493 256.437 91.3941C256.317 90.9206 256.557 90.447 256.917 90.3286L303.237 73.6363C303.717 73.5179 304.197 73.7547 304.317 74.1098C304.437 74.5834 304.197 75.0569 303.837 75.1753L257.517 91.8677C257.517 91.986 257.397 91.986 257.277 91.986Z"
								fill="black"
							/>
							<path
								d="M263.758 109.388C263.278 109.388 262.918 109.033 262.918 108.559C262.918 108.204 263.158 107.849 263.518 107.731L329.758 83.9351C330.238 83.8167 330.718 84.0535 330.838 84.4086C330.958 84.8822 330.838 85.3557 330.358 85.4741L263.998 109.388C263.878 109.388 263.878 109.388 263.758 109.388Z"
								fill="black"
							/>
							<path
								d="M270.117 126.792C269.637 126.792 269.277 126.437 269.277 125.963C269.277 125.608 269.517 125.372 269.757 125.253L299.637 114.48C300.117 114.362 300.597 114.598 300.717 114.954C300.837 115.427 300.597 115.901 300.237 116.019L270.357 126.792C270.357 126.674 270.237 126.792 270.117 126.792Z"
								fill="black"
							/>
							<path
								d="M311.758 111.756C311.278 111.756 310.918 111.401 310.918 110.928C310.918 110.572 311.158 110.217 311.518 110.099L341.398 99.3257C341.878 99.2073 342.358 99.4441 342.478 99.7993C342.598 100.273 342.358 100.746 341.998 100.865L312.118 111.638C311.998 111.756 311.878 111.756 311.758 111.756Z"
								fill="black"
							/>
							<path
								d="M276.599 144.077C276.239 144.077 275.879 143.84 275.879 143.485C275.759 143.011 275.999 142.538 276.359 142.419L322.679 125.845C323.159 125.727 323.639 125.845 323.759 126.319C323.879 126.793 323.639 127.266 323.279 127.384L276.959 144.077C276.719 144.077 276.599 144.077 276.599 144.077Z"
								fill="#9CA3AF"
							/>
							<path
								d="M231.478 198.296C231.118 198.296 230.758 198.059 230.758 197.704C230.638 197.231 230.758 196.757 231.238 196.639L276.958 180.183C277.438 180.065 277.918 180.302 278.038 180.657C278.158 181.13 277.918 181.604 277.558 181.722L231.718 198.296C231.718 198.296 231.598 198.296 231.478 198.296Z"
								fill="#9CA3AF"
							/>
							<path
								d="M229.126 219.861L208.605 227.234L214.601 243.475L235.122 236.102L229.126 219.861Z"
								fill="white"
							/>
							<path
								d="M214.559 244.35C214.439 244.35 214.319 244.35 214.199 244.231C213.959 244.113 213.839 243.995 213.719 243.758L207.719 227.539C207.599 227.066 207.839 226.592 208.199 226.474L228.719 219.134C228.959 219.015 229.199 219.015 229.319 219.134C229.559 219.252 229.679 219.37 229.799 219.607L235.799 235.826C235.919 236.3 235.679 236.773 235.319 236.892L214.799 244.231C214.799 244.231 214.679 244.35 214.559 244.35ZM209.759 227.776L215.159 242.456L233.999 235.708L228.599 221.028L209.759 227.776Z"
								fill="black"
							/>
							<path
								d="M217.857 190.875L197.336 198.248L203.331 214.488L223.852 207.115L217.857 190.875Z"
								fill="white"
							/>
							<path
								d="M203.399 215.345C203.039 215.345 202.679 215.108 202.559 214.753L196.559 198.534C196.439 198.06 196.679 197.587 197.039 197.468L217.559 190.128C218.039 190.01 218.519 190.247 218.639 190.602L224.639 206.821C224.759 207.294 224.519 207.768 224.159 207.886L203.639 215.226C203.519 215.226 203.519 215.345 203.399 215.345ZM198.479 198.771L203.879 213.45L222.839 206.702L217.439 192.023L198.479 198.771Z"
								fill="black"
							/>
							<path
								d="M241.559 225.525C241.199 225.525 240.839 225.288 240.719 224.933C240.599 224.459 240.839 223.986 241.199 223.867L286.919 207.412C287.399 207.293 287.879 207.53 287.999 207.885C288.119 208.359 287.879 208.832 287.519 208.951L241.799 225.525C241.679 225.525 241.679 225.525 241.559 225.525Z"
								fill="#9CA3AF"
							/>
							<path d="M314.951 158.303L294.43 165.676L300.425 181.916L320.946 174.543L314.951 158.303Z" fill="white" />
							<path
								d="M300.477 182.671C300.117 182.671 299.757 182.434 299.637 182.079L293.637 165.86C293.517 165.623 293.517 165.386 293.637 165.268C293.757 165.031 293.877 164.913 294.117 164.795L314.637 157.455C315.117 157.336 315.597 157.573 315.717 157.928L321.717 174.147C321.837 174.384 321.837 174.621 321.717 174.739C321.597 174.976 321.477 175.094 321.237 175.212L300.717 182.552C300.597 182.671 300.477 182.671 300.477 182.671ZM295.557 166.097L300.957 180.777L319.917 173.91L314.517 159.23L295.557 166.097Z"
								fill="black"
							/>
							<path
								d="M327.36 163.846C326.88 163.846 326.52 163.491 326.52 163.017C326.52 162.662 326.76 162.425 327 162.307L372.72 145.851C373.08 145.733 373.56 145.851 373.8 146.325C373.92 146.798 373.8 147.272 373.32 147.39L327.6 163.846C327.48 163.846 327.48 163.846 327.36 163.846Z"
								fill="#9CA3AF"
							/>
							<path d="M325.04 185.514L304.52 192.887L310.515 209.127L331.036 201.754L325.04 185.514Z" fill="white" />
							<path
								d="M310.439 209.899C310.079 209.899 309.719 209.663 309.719 209.308L303.719 193.089C303.599 192.615 303.839 192.142 304.199 192.023L324.719 184.683C325.199 184.565 325.679 184.683 325.799 185.157L331.799 201.376C331.919 201.849 331.799 202.323 331.319 202.441L310.799 209.781C310.679 209.899 310.559 209.899 310.439 209.899ZM305.519 193.325L310.919 208.005L329.879 201.257L324.479 186.578L305.519 193.325Z"
								fill="black"
							/>
							<path
								d="M337.317 191.075C336.957 191.075 336.597 190.839 336.477 190.484C336.357 190.01 336.597 189.536 336.957 189.418L382.677 172.962C383.157 172.726 383.637 172.962 383.757 173.318C383.997 173.791 383.757 174.265 383.397 174.383H383.277L337.557 190.839C337.557 190.957 337.437 191.075 337.317 191.075Z"
								fill="#9CA3AF"
							/>
							<path
								d="M394.218 203.798L222.723 265.416L241.612 316.584L413.108 254.966L394.218 203.798Z"
								fill="white"
							/>
							<path
								d="M241.676 317.511C241.556 317.511 241.436 317.511 241.316 317.392C241.076 317.274 240.956 317.156 240.836 316.919L221.996 265.776C221.876 265.539 221.876 265.303 221.996 265.184C222.116 264.947 222.236 264.829 222.476 264.711L393.956 203.15C394.436 203.032 394.916 203.15 395.036 203.624L413.996 254.766C414.116 255.003 414.116 255.24 413.996 255.358C413.876 255.595 413.756 255.713 413.516 255.832L241.916 317.392C241.796 317.511 241.676 317.511 241.676 317.511ZM223.796 265.895L242.156 315.498L412.076 254.411L393.716 204.808L223.796 265.895Z"
								fill="black"
							/>
							<path
								d="M226.797 277.259C226.317 277.259 225.957 276.903 225.957 276.43C225.957 276.075 226.197 275.838 226.437 275.72L397.917 214.041C398.397 213.804 398.877 214.041 398.997 214.396C399.237 214.869 398.997 215.343 398.637 215.461H398.517L227.037 277.14C226.917 277.259 226.917 277.259 226.797 277.259Z"
								fill="black"
							/>
							<path
								d="M289.077 300.464C288.717 300.464 288.357 300.227 288.237 299.872L269.277 248.729C269.157 248.256 269.397 247.782 269.757 247.664C270.237 247.545 270.717 247.782 270.837 248.137L289.797 299.28C289.917 299.753 289.677 300.227 289.317 300.345C289.317 300.345 289.197 300.464 289.077 300.464Z"
								fill="black"
							/>
							<path
								d="M360.719 326.155C360.359 326.155 359.999 325.918 359.879 325.563C359.759 325.089 359.999 324.616 360.359 324.497L429.479 299.636C429.959 299.4 430.439 299.636 430.559 299.991C430.799 300.465 430.559 300.939 430.199 301.057H430.079L360.959 325.918C360.839 326.155 360.839 326.155 360.719 326.155Z"
								fill="#9CA3AF"
							/>
							<path
								d="M247.438 333.374C246.958 333.374 246.598 333.019 246.598 332.545C246.598 332.19 246.838 331.835 247.198 331.716L418.678 270.156C419.038 269.919 419.638 270.156 419.758 270.511C419.998 270.866 419.758 271.458 419.398 271.576C419.398 271.576 419.278 271.576 419.278 271.695L247.798 333.255C247.678 333.374 247.558 333.374 247.438 333.374Z"
								fill="#9CA3AF"
							/>
							<path
								d="M320.396 64.6391C318.356 64.6391 316.556 63.4552 315.836 61.561L308.276 40.8435C308.036 40.37 308.276 39.8965 308.636 39.7781C308.996 39.6597 309.596 39.7781 309.716 40.1332V40.2516L317.396 60.9691C317.996 62.5081 319.796 63.3368 321.356 62.7449C322.916 62.153 323.756 60.3772 323.156 58.8382L312.356 29.005C311.876 27.5844 310.796 26.4005 309.356 25.8086C307.916 25.2166 306.356 25.0982 304.916 25.5718C301.916 26.6373 300.356 29.9521 301.436 32.9117L301.916 34.0956C302.036 34.5691 301.796 35.0426 301.436 35.161C300.956 35.2794 300.476 35.161 300.356 34.6875L299.876 33.5036C298.556 29.5969 300.716 25.4534 304.676 24.1512C308.396 22.9673 312.476 24.8615 313.916 28.4131L324.956 58.2462C325.916 60.7323 324.596 63.4552 322.076 64.2839C321.476 64.5207 320.996 64.6391 320.396 64.6391Z"
								fill="black"
							/>
						</g>
						<path
							d="M169.078 306.735C178.318 291.819 190.078 268.852 197.878 253.225C201.598 245.53 215.638 249.792 216.598 256.303C218.038 265.419 201.718 312.418 201.598 312.181C214.318 327.098 216.598 349.828 206.998 366.757"
							fill="white"
						/>
						<path
							d="M206.998 367.824C206.518 367.824 206.158 367.468 206.158 366.995C206.158 366.876 206.158 366.758 206.278 366.64C215.518 350.066 213.358 327.454 200.998 312.893C200.758 312.656 200.758 312.301 200.878 312.064L200.998 311.945C201.958 309.815 217.198 265.183 215.878 256.541C215.398 253.581 211.678 250.858 207.238 250.148C203.278 249.556 200.158 250.858 198.718 253.7C194.758 261.75 180.838 289.452 169.918 307.21C169.678 307.565 169.198 307.802 168.718 307.565C168.358 307.328 168.118 306.855 168.358 306.381C179.278 288.623 193.078 261.04 197.038 252.989C198.718 249.556 202.558 247.899 207.238 248.609C211.558 249.201 216.598 252.161 217.318 256.304C218.518 264.118 205.558 305.316 202.438 312.182C215.278 327.928 217.318 349.592 207.718 367.35C207.478 367.705 207.238 367.824 206.998 367.824Z"
							fill="black"
						/>
						<path d="M228.037 89.2348L165.91 111.557L193.259 185.639L255.385 163.317L228.037 89.2348Z" fill="white" />
						<path
							d="M228.121 89.2629L255.481 163.254L193.201 185.629L165.841 111.638L228.121 89.2629ZM228.001 87.6055C227.761 87.6055 227.641 87.6055 227.401 87.7239L165.241 110.099C164.761 110.217 164.521 110.572 164.281 110.927C164.041 111.283 164.041 111.756 164.161 112.23L191.521 186.221C191.641 186.576 192.001 186.931 192.361 187.168C192.601 187.286 192.841 187.286 193.081 187.286C193.321 187.286 193.441 187.286 193.681 187.168L255.841 164.793C256.681 164.438 257.161 163.491 256.801 162.662L229.441 88.6709C229.321 88.079 228.721 87.6055 228.001 87.6055Z"
							fill="black"
						/>
						<path
							d="M247.441 141.944L255.361 163.372L193.201 185.628L185.281 164.201C189.361 156.032 197.641 150.823 205.081 147.39C207.961 146.088 210.721 145.022 213.001 144.193L213.481 143.957C215.641 143.128 218.281 142.299 221.041 141.589H221.161C229.321 139.576 239.041 138.274 247.441 141.944Z"
							fill="currentColor"
						/>
						<path
							d="M223.081 145.615L224.641 167.635L225.121 174.028L223.681 174.501L219.841 169.292L206.641 151.535C210.001 149.048 218.641 145.97 223.081 145.615Z"
							fill="black"
						/>
						<path
							d="M216.119 122.529C215.159 117.676 222.359 113.887 224.039 119.333C224.639 121.227 224.639 123.24 223.919 125.134C223.079 127.028 221.279 128.212 219.239 128.212"
							fill="white"
						/>
						<path
							d="M219.48 128.921H219.12C218.64 128.921 218.28 128.448 218.28 127.974C218.28 127.501 218.76 127.146 219.24 127.146C220.92 127.146 222.36 126.198 223.08 124.659C223.68 123.002 223.8 121.226 223.2 119.45C222.6 117.32 221.04 117.32 220.2 117.438C218.04 118.03 216.72 120.042 216.96 122.173C217.08 122.647 216.72 123.12 216.24 123.12C215.76 123.12 215.28 122.884 215.28 122.41C214.8 119.332 216.72 116.372 219.84 115.662C222 115.07 224.28 116.372 224.88 118.622C224.88 118.74 224.88 118.74 224.88 118.859C225.6 120.989 225.48 123.239 224.64 125.251C223.68 127.501 221.76 128.803 219.48 128.921Z"
							fill="black"
						/>
						<path
							d="M197.16 129.277C194.76 125.016 186.72 126.673 189 131.882C189.72 133.776 191.16 135.197 192.84 136.144C194.64 137.091 196.8 136.736 198.36 135.434"
							fill="white"
						/>
						<path
							d="M195.242 137.564C194.282 137.564 193.322 137.327 192.482 136.972C190.562 135.907 189.002 134.249 188.162 132.237C187.082 130.342 187.682 127.856 189.722 126.791C189.842 126.791 189.842 126.672 189.962 126.672C192.842 125.37 196.202 126.317 197.882 128.922C198.122 129.277 198.002 129.869 197.522 130.106C197.042 130.342 196.562 130.224 196.322 129.751C195.122 127.856 192.722 127.264 190.802 128.093C190.082 128.448 188.882 129.395 189.842 131.526C190.562 133.184 191.762 134.486 193.322 135.433C194.762 136.143 196.562 136.025 197.882 134.959C198.242 134.604 198.722 134.604 199.082 134.959C199.442 135.315 199.442 135.788 199.082 136.143C198.002 136.972 196.682 137.564 195.242 137.564Z"
							fill="black"
						/>
						<path
							d="M206.52 151.652C209.16 153.901 213 154.493 216.24 153.191C219.72 152.007 222.24 149.166 223.08 145.732L215.88 128.566L201 133.894L206.52 151.652Z"
							fill="white"
						/>
						<path
							d="M212.519 154.73C210.119 154.73 207.719 153.901 205.919 152.244C205.799 152.125 205.799 152.007 205.679 151.889L200.039 134.131C199.919 133.657 200.159 133.184 200.519 133.065L215.399 127.738C215.879 127.62 216.359 127.738 216.479 128.212L223.679 145.377C223.799 145.496 223.799 145.733 223.799 145.851C222.959 149.639 220.199 152.717 216.359 154.02C215.279 154.375 213.839 154.612 212.519 154.73ZM207.239 151.178C209.639 153.073 212.999 153.546 215.879 152.362C218.999 151.297 221.279 148.811 222.119 145.733L215.279 129.632L201.839 134.486L207.239 151.178Z"
							fill="black"
						/>
						<path
							d="M203.64 141.353C205.44 142.655 207.48 143.365 209.64 143.602C213.24 144.194 218.28 144.431 221.64 142.537L218.28 135.434C215.76 136.736 213.12 137.683 210.36 138.275C207.96 138.985 205.56 139.459 203.04 139.459C202.68 139.459 202.92 140.761 203.64 141.353Z"
							fill="black"
						/>
						<path
							d="M214.562 144.904C212.882 144.904 211.202 144.786 209.522 144.43C207.242 144.194 205.082 143.365 203.162 141.944C202.322 141.352 201.962 140.287 202.202 139.221C202.322 138.748 202.802 138.511 203.282 138.511C205.682 138.511 208.082 138.156 210.362 137.446C213.002 136.854 215.642 135.907 218.042 134.604C218.282 134.486 218.522 134.486 218.762 134.604C219.002 134.723 219.122 134.841 219.242 135.078L222.602 142.181C222.842 142.536 222.602 143.01 222.242 143.247C219.722 144.43 217.082 144.904 214.562 144.904ZM203.882 140.287C204.002 140.405 204.002 140.524 204.122 140.642C205.802 141.826 207.722 142.536 209.642 142.773C211.802 143.128 216.842 143.72 220.442 142.181L217.802 136.499C215.402 137.564 213.002 138.511 210.482 139.103C208.442 139.813 206.162 140.169 203.882 140.287Z"
							fill="black"
						/>
						<path
							d="M211.2 139.932L212.4 139.458C218.28 137.327 221.28 131.053 219.12 125.252L213 108.796C204.6 105.126 194.76 108.678 190.68 116.847L196.8 133.302C198.84 139.103 205.32 142.063 211.2 139.932Z"
							fill="white"
						/>
						<path
							d="M206.28 107.377C208.56 107.377 210.96 107.851 213 108.916L219.12 125.372C221.28 131.173 218.28 137.447 212.4 139.578L211.2 140.052C210 140.525 208.68 140.762 207.36 140.762C202.68 140.762 198.48 137.802 196.8 133.541L190.68 117.085C192.48 113.06 195.96 109.982 200.16 108.68C202.2 107.733 204.24 107.377 206.28 107.377ZM206.28 105.72C204 105.72 201.72 106.075 199.56 106.904C191.4 109.863 189.12 116.138 189 116.375C188.88 116.73 188.88 117.203 189 117.559L195.12 134.014C197.52 140.644 204.96 144.077 211.68 141.591L212.88 141.117C219.6 138.75 223.08 131.41 220.56 124.78L214.44 108.324C214.32 107.969 214.08 107.614 213.72 107.377C211.56 106.193 208.92 105.602 206.28 105.72Z"
							fill="black"
						/>
						<path d="M218.161 157.689L214.441 156.505L216.481 153.309L220.201 154.492L218.161 157.689Z" fill="white" />
						<path
							d="M224.643 167.753L225.003 174.264L223.683 174.737L219.723 169.528L216.843 157.335V157.216L216.723 156.861V156.624L218.523 155.914L218.643 156.151L218.883 156.506L224.643 167.753Z"
							fill="white"
						/>
						<path
							d="M201.001 183.734C200.641 183.734 200.401 183.497 200.281 183.26L191.761 165.976C191.521 165.621 191.641 165.029 192.121 164.792C192.121 164.792 192.121 164.792 192.241 164.792C192.601 164.555 193.201 164.674 193.441 165.147L201.961 182.432C202.201 182.905 201.961 183.379 201.601 183.616C201.241 183.616 201.121 183.734 201.001 183.734Z"
							fill="black"
						/>
						<path
							d="M247.682 166.925C247.322 166.925 246.962 166.688 246.842 166.333L242.042 147.746C241.922 147.272 242.162 146.799 242.642 146.681C243.122 146.562 243.602 146.799 243.722 147.272L248.522 165.859C248.642 166.333 248.402 166.806 247.922 166.925C247.802 166.925 247.682 166.925 247.682 166.925Z"
							fill="black"
						/>
						<path
							d="M195.719 131.171C194.159 125.962 191.399 119.806 192.239 118.385C193.079 116.964 194.159 118.385 194.999 116.846C195.839 115.307 195.119 115.189 195.119 115.189C195.119 115.189 198.839 112.347 200.879 111.992C202.919 111.637 207.599 111.4 209.399 108.914C209.399 108.914 213.959 111.637 214.919 113.768C215.879 115.899 217.439 122.055 217.919 121.818C218.399 121.582 219.239 116.017 218.999 113.413C218.519 108.678 214.919 104.771 210.119 104.06C210.119 104.06 209.519 101.338 202.679 102.048C195.839 102.758 189.959 107.257 188.759 109.861C187.319 113.65 187.079 117.793 188.159 121.818C189.119 124.778 190.319 124.778 190.319 124.778L195.719 131.171Z"
							fill="white"
						/>
						<path
							d="M195.721 132C195.481 132 195.241 131.882 195.001 131.763L189.601 125.489C189.001 125.252 187.921 124.542 187.081 122.056C186.001 117.912 186.241 113.532 187.801 109.507C189.241 106.547 195.241 101.93 202.441 101.22C208.201 100.628 210.001 102.404 210.601 103.351C215.521 104.298 219.241 108.441 219.721 113.413C219.841 114.716 219.361 121.819 218.161 122.529C217.921 122.648 217.681 122.648 217.321 122.648C216.721 122.411 216.481 121.937 215.281 118.031C214.801 116.61 214.321 115.071 213.961 114.242C213.361 112.94 210.961 111.164 209.401 110.217C207.481 112.111 204.001 112.585 201.841 112.94L200.881 113.058C199.201 113.65 197.521 114.479 196.081 115.663C196.081 116.373 195.961 116.965 195.601 117.557C195.241 118.386 194.401 118.859 193.441 118.859C193.081 118.859 192.961 118.859 192.841 119.096C192.481 119.806 193.921 123.95 194.881 126.673C195.361 128.212 195.961 129.751 196.441 131.171C196.561 131.526 196.441 132 196.081 132.118C195.961 132 195.841 132 195.721 132ZM190.201 123.831C190.441 123.831 190.561 123.95 190.681 124.068L193.441 127.265C193.441 127.146 193.321 127.028 193.321 127.028C191.521 121.937 190.681 119.214 191.401 118.031C191.761 117.32 192.601 116.847 193.441 116.965C193.921 116.965 193.921 116.965 194.161 116.61C194.281 116.373 194.401 116.136 194.401 115.9C194.281 115.781 194.161 115.663 194.161 115.426C194.041 115.071 194.161 114.834 194.521 114.597C194.881 114.242 198.481 111.638 200.641 111.164L201.601 111.046C203.641 110.809 207.121 110.217 208.561 108.441C208.801 108.086 209.401 107.968 209.761 108.204C210.241 108.441 214.561 111.046 215.521 113.413C215.881 114.361 216.361 115.9 216.841 117.439C216.961 118.031 217.201 118.622 217.441 119.214C217.801 117.32 217.921 115.426 217.921 113.532C217.561 109.152 214.201 105.6 209.761 105.008C209.401 105.008 209.161 104.653 209.041 104.416C209.041 104.416 208.321 102.522 202.441 102.996C195.721 103.706 190.201 108.086 189.121 110.335C187.801 114.005 187.561 117.912 188.521 121.582C189.481 123.595 190.201 123.831 190.201 123.831Z"
							fill="black"
						/>
						<defs>
							<clipPath id="clip0_4763_41238">
								<rect fill="white" height="413" transform="translate(124 15)" width="352" />
							</clipPath>
						</defs>
					</svg>
					<p className="text-2xl font-medium leading-8 tracking-[-0.6px] text-primary">No Tickets at the Moment</p>
				</div>
			)}
		</div>
	);
}
